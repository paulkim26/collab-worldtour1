if callType==LuaCallType.Init then a={}b=0 for c,d in pairs(token)do e=d['\103\97\109\101\79\98\106\101\99\116'].GetComponent('Element')e['\99\111\108\108\101\99\116\105\111\110\73\100']=1350 f=tonumber(e['\101\108\101\109\101\110\116\78\97\109\101'])d['\116\114\97\110\115\102\111\114\109']['\110\97\109\101']=f e['\101\108\101\109\101\110\116\78\97\109\101']=''if not a[f]then a[f]={g=0,h=1}else a[f].h=a[f].h+1 end end function i(j)j['\103\97\109\101\79\98\106\101\99\116'].SetActive(false)k=tonumber(j['\116\114\97\110\115\102\111\114\109']['\110\97\109\101'])a[k].g=a[k].g+1 if a[k].g==a[k].h then api.levelNote('\65\108\108\32\116\111\107\101\110\115\32\102\111\117\110\100\33\n\67\111\110\103\114\97\116\117\108\97\116\105\111\110\115\44\32\121\111\117\32\102\111\117\110\100\32\97\108\108\32\116\104\101\32\116\111\107\101\110\115\32\105\110\32\116\104\105\115\32\97\114\101\97\33\n'..string.char(9688)..'\32'..a[k].g..'/'..a[k].h)else api.levelNote('\84\111\107\101\110\32\102\111\117\110\100\33\n\89\111\117\32\102\111\117\110\100\32\97\32\115\101\99\114\101\116\32\116\111\107\101\110\33\32\76\111\111\107\32\97\114\111\117\110\100\32\116\111\32\102\105\110\100\32\109\111\114\101\32\105\110\32\116\104\105\115\32\97\114\101\97\33\n'..string.char(9688)..'\32'..a[k].g..'/'..a[k].h)end l=0 m=0 for _,n in pairs(a)do l=l+n.g m=m+n.h end if l==m then if k==1 then api.levelNote(string.char(0x24D8)..'\32\65\32\83\101\99\114\101\116\32\114\111\111\109\32\104\97\115\32\98\101\101\110\32\117\110\108\111\99\107\101\100\33')else api.levelNote(string.char(0x24D8)..'\32\65\32\83\101\99\114\101\116\32\114\111\111\109\32\104\97\115\32\98\101\101\110\32\117\110\108\111\99\107\101\100\46\32\72\101\97\100\32\98\97\99\107\32\104\111\109\101\32\116\111\32\100\105\115\99\111\118\101\114\32\119\104\97\116\32\97\119\97\105\116\115\32\121\111\117\33')end api.setLockValue(zesty_tokendoor_unlock,1,1)else b=b+1 api.setLockValue(_G['zesty_tokendoor_display'..b],1,1)end end function o(j)e=j['\103\97\109\101\79\98\106\101\99\116'].GetComponent('Element')k=tonumber(e['\101\108\101\109\101\110\116\78\97\109\101'])if a[k].g==a[k].h then api.levelNote('\65\108\108\32\116\111\107\101\110\115\32\104\97\118\101\32\98\101\101\110\32\102\111\117\110\100\32\105\110\32\116\104\105\115\32\97\114\101\97\33\n'..string.char(9688)..'\32'..a[k].g..'/'..a[k].h)else api.levelNote('\84\104\101\114\101\32\97\114\101\32\115\116\105\108\108\32\116\111\107\101\110\115\32\116\111\32\98\101\32\102\111\117\110\100\32\105\110\32\116\104\105\115\32\97\114\101\97\46\n'..string.char(9688)..'\32'..a[k].g..'/'..a[k].h)end end end if callType==LuaCallType.SwitchDone then if api.contains(token,context)and context['\105\115\79\110']then i(context)end if api.contains(tokenArea,context)and context['\105\115\79\110']then o(context)end end if callType==LuaCallType.TriggerExit then if api.contains(tokenTrigger,context)then i(context)end end
